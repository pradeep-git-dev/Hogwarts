{% extends "base.html" %}
{% block title %}Discussion - {{ discussion.title }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-10">

    <h2 class="text-3xl font-bold mb-2">{{ discussion.title }}</h2>
    <p class="text-gray-600 mb-4">Posted by {{ discussion.author.username }} â€¢ {{ discussion.created_at|date:"M d, Y" }}</p>

    <div class="p-4 border rounded-lg bg-gray-50 mb-8">
        {{ discussion.content }}
    </div>

    <h3 class="text-2xl font-semibold mb-4">Replies</h3>

    {% for reply in replies %}
    <div class="mb-4 p-4 border rounded-lg bg-white shadow-sm">
        <p class="font-semibold">{{ reply.author.username }}</p>
        <p class="text-gray-700">{{ reply.content }}</p>
        <p class="text-sm text-gray-500 mt-1">{{ reply.created_at|date:"M d, Y H:i" }}</p>
    </div>
    {% empty %}
    <p class="text-gray-600">No replies yet. Be the first to reply!</p>
    {% endfor %}

    <hr class="my-6">

    <h3 class="text-xl font-semibold mb-2">Write a Reply</h3>
    <form method="POST">
        {% csrf_token %}
        <textarea name="reply" rows="4" required
                  class="w-full p-3 border rounded-lg mb-4"></textarea>

        <button type="submit"
                class="bg-green-600 text-white px-6 py-2 rounded-lg">
            Post Reply
        </button>
    </form>

</div>
{% endblock %}
